<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="funct.css" type="text/css"?>
<?xm-well_formed path="funct.dtd"?>
<slides>
 <lang>en</lang>
  <title>How ARIA Works and what's new in ARIA 1.2</title>
  <person>
    <name>Jon Gunderson, Ph.D.</name>
    <desc href="http://disability.illinois.edu">Division of Disability Resources and Educational Services</desc>
    <desc href="http://ahs.illinois.edu">College of Applied Health Sciences</desc>
    <desc href="http://illinois.edu">University of Illinois at Urbana-Champaign</desc>
    <desc href="mailto:jongund@illinois.edu">jongund@illinois.edu</desc>
  </person>

  <conference>
    <name href="https://a11ysummit20.highedweb.org">HighEdWeb Accessibility Summit</name>
    <desc>Online</desc>
    <desc>June 25th, 2020</desc>
  </conference>

  <desc href="../">Presentations</desc>

  <stylesheet media="screen">../../common/css/bootstrap.min.css</stylesheet>
  <stylesheet media="screen">../../common/css/bootstrap-theme.min.css</stylesheet>
  <stylesheet media="screen">../../common/css/bootstrap-accessibility.css</stylesheet>

  <stylesheet media="screen">../../common/css/xml-slides.css</stylesheet>

  <script>../../common/js/jquery-2.1.1.min.js</script>
  <script>../../common/js/bootstrap.min.js</script>
  <script>../../common/js/bootstrap-accessibility.min.js</script>
  <script>../../common/js/xml-slides.js</script>

  <slide>
    <title>Overview</title>
    <contents>
      <ul>
        <li>ARIA basics</li>
        <li>Using ARIA to build an custom checkbox widget</li>
        <li>New features in ARIA 1.2</li>
        <li>ARIA Authoring Practices</li>
      </ul>
      <script type="text/javascript">
        slideShowURL()
      </script>
    </contents>
  </slide>

  <slide>
    <title>Purpose of ARIA is Describe Semantics and Behavior</title>
    <contents>
       <ul>
         <li>Provide an inter-operable way to describe the features of <em>custom widgets</em>:
           <ul>
             <li><strong>Role:</strong> Describes the type of widget, which implies the <em>keyboard interaction</em>.</li>
             <li><strong>Properties and States:</strong> Describing features like "expandable", "checked" or "selected".</li>
             <li><strong>Language independence:</strong> Roles, properties and states can be translated by the operating systems and assistive technologies to local languages.</li>
             <li><strong>Labeling:</strong> How to label the features of the widget and its components (e.g. accessible name).</li>
             <li><strong>Relationships:</strong> How different components relate to each other (e.g. descriptions, controls, owns).</li>
             <li><strong>Grouping:</strong> Groups of related components (e.g. lists, menus, trees, tab panels).</li>
           </ul>
        </li>
        <li>Define markup mappings to accessibility APIs:
          <ul>
            <li>ATK/AT-SPI (Linux/Unix)</li>
            <li>Microsoft Active Accessibility (MSAA) + IAccessible2</li>
            <li>Microsoft UI Automate</li>
            <li>MacOS Accessibility API</li>
          </ul>
         </li>
      </ul>
    </contents>
  </slide>

  <slide>
    <title>ARIA Contract with Browsers and Assistive Technologies</title>
    <contents>
      <h2>Browsers</h2>
      <ul>
        <li>The use of ARIA markup does not affect browser behavior or rendering.</li>
        <li>ARIA only affects how information is represented in accessibility APIs (e.g. MSAA+IAccessible2, ATK+SPI, UIAutomate, MacOS).</li>
      </ul>

      <h2>Assistive Technologies</h2>
      <ul>
        <li>Do not specify what assistive technologies will do with the information.</li>
      </ul>
    </contents>
  </slide>

  <slide>
    <title>Accessible Rich Internet Applications (ARIA) Basics</title>
    <contents>

      <p>The next set of slides will cover the importance of the following HTML and ARIA features:</p>

      <ul>
        <li>Setting <code>tabindex</code> to enable focus events on elements.</li>
        <li>Keyboard focus styling to make keyboard focus visible.</li>
        <li>ARIA <code>roles</code> for describing interactive behaviors and identify document sections.</li>
        <li>Computation of accessible names for widget and structural roles.</li>
        <li>ARIA properties and states.</li>
        <li>Computation of accessible descriptions for widget roles for instructions and error feedback.</li>
      </ul>
    </contents>
  </slide>

  <slide>
    <title>Tabindex and Keyboard Focus</title>
    <contents>
      <ul>
        <li>
            <a
              href="https://www.w3.org/TR/html4/interact/forms.html#adef-tabindex"  target="_specification">
              HTM4 tabindex requirements
            </a>
        </li>
        <li>
            <a
              href="https://www.w3.org/TR/html5/editing.html#focus"  target="_specification">
              HTM5 focus and tabindex requirements
            </a>
        </li>
       <li>Actively define visual focus style, since the default browser visual focus styling of focus is typically hard to discern.</li>
      </ul>

      <h2 id="tabindex_values">Tabindex Values</h2>
      <table class="table table-striped table-hover" aria-label="tabindex_values">
        <thead>
          <tr>
            <th>Value</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>-1</td>
            <td>
              <ul>
                <li>Support keyboard focus/blur events.</li>
                <li>Not included in the tab order of the page.</li>
              </ul>
            </td>
          </tr>
          <tr>
            <td>0</td>
            <td>
              <ul>
                <li>Support keyboard focus/blur events.</li>
                <li>Included in the tab order of the page.</li>
              </ul>
            </td>
          </tr>
          <tr>
            <td>&gt; 0</td>
            <td>
              <ul>
                <li>Support keyboard focus/blur events.</li>
                <li>Defines the tab order of the page.</li>
                <li><strong>Note:</strong> This technique is not recommended due to browser incompatibilities and unpredicatable focus behaviors.</li>
              </ul>
            </td>
          </tr>
        </tbody>
      </table>
    </contents>
  </slide>

  <slide>
    <title>Accessible Name Calculation</title>
    <contents>
        <ul>
          <li><a href="https://www.w3.org/TR/accname-aam/">W3C Accessible Name and Description Computation Specification</a></li>
          <li>In general only <strong>one</strong> technique should be used to define an accessible name, if more than on technique is used the following priortiy is used for the calculation.</li>
        </ul>
        <h2 id="heading_ant">Accessible Name Techniques</h2>
        <table class="table table-striped table-hover" aria-labelledby="heading_ant">
          <thead>
            <tr>
              <th>Priority</th>
              <th>Technique</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>1</td>
              <td><code>aria-labelledby</code></td>
              <td>
                <ul>
                  <li>The <code>aria-labelledby</code> attribute contains a list of <code>IDREF</code>s to elements on the page.</li>
                  <li>Text content of referenced elements are concatenated to compute the accessible name.</li>
                  <li>References typically identify visible text on the screen in visual proximity to the control.</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td>2</td>
              <td><code>aria-label</code></td>
              <td>
                <ul>
                  <li>The <code>aria-label</code> attribute text content defines the accessible name.</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td>3</td>
              <td>Encapsulation using the <code>label</code> element<br/><span class="new">New in ARIA 1.2</span></td>
              <td>
                <ul>
                  <li>Allows the use of the HTML <code>label</code> element to define an accessible name for the following roles:
                    <ul>
                      <li><code>checkbox</code></li>
                      <li><code>listbox</code></li>
                      <li><code>meter</code></li>
                      <li><code>radio</code></li>
                      <li><code>searchbox</code></li>
                      <li><code>spinbutton</code></li>
                      <li><code>switch</code></li>
                      <li><code>textbox</code></li>
                    </ul>
                  </li>
                </ul>
              </td>
            </tr>
            <tr>
              <td>4</td>
              <td>The <code>legend</code> element for grouping roles<br/><span class="new">New in ARIA 1.2</span></td>
              <td>
                  Allows the use of the HTML <code>legend</code> element to define the accessible name for the <code>group</code> and <code>gradiogroup</code> roles.
              </td>
            </tr>
            <tr>
              <td>5</td>
              <td>text content</td>
              <td>
                <ul>
                  <li>Some ARIA widget roles allow the text content of the container element to define an accessible name (e.g. <code>role="checkbox"</code>).</li>
                  <li>Text content includes text alternatives, for example <code>alt</code> attribute content of an <code>img</code> element.</li>
                  <li>Text content includes text from generated CSS, for example when the <code>content</code> property is used.</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td>6</td>
              <td><code>title</code></td>
              <td>
                <ul>
                  <li>If no other source of an accessible name is found and the element has a <code>title</code> attribute, the content of the <code>title</code> attribute will used to define the accessible name.</li>
                </ul>
              </td>
            </tr>
          </tbody>
        </table>
    </contents>
  </slide>

  <slide>
    <title>Accessible Description Calculation</title>
    <contents>
        <ul>
          <li><a href="https://www.w3.org/TR/accname-aam/">W3C Accessible Name and Description Computation Specification</a></li>
          <li>Accessible description provides more information about a form control, link or aria widget.</li>
          <li>Screen readers each have their own ways of rendering and sometimes ignoring the <em>description information</em> information.</li>
        </ul>
        <h2 id="heading_ant">Accessible Description Techniques</h2>
        <table class="table table-striped table-hover" aria-labelledby="heading_ant">
          <thead>
            <tr>
              <th>Priority</th>
              <th>Technique</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>1</td>
              <td><code>aria-describedby</code></td>
              <td>
                <ul>
                  <li>The <code>aria-describedby</code> attribute contains a list of <code>IDREF</code>s to elements on the page.</li>
                  <li>Text content of referenced elements are concatenated to compute the <em>accessible description</em>.</li>
                  <li>Designed to reference visible text on the screen, like instructions and error feedback.</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td>2</td>
              <td><code>aria-description</code><br/><span class="new">New in ARIA 1.2</span></td>
              <td>
                Similar to <code>aria-label</code> attribute, text content is used to define an accessible description.
              </td>
            </tr>
            <tr>
              <td>3</td>
              <td><code>title</code></td>
              <td>
                <ul>
                  <li>If no other source of an <em>accessible description</em> is found and the element has a <code>title</code> attribute that is <strong>not</strong> being used to define an accessible name, the content of the <code>title</code> attribute is used to define the <em>accessible description</em>.</li>
                </ul>
              </td>
            </tr>
          </tbody>
        </table>
    </contents>
  </slide>

  <slide>
    <title>Example Widget: Inaccessible Custom Checkbox</title>
    <style id="style">
fieldset {
     border-color: #EEE;
     width: 10em;
}

fieldset legend {
     font-size: 100%;
}

label,
div.checkbox {
     padding: 2px;
     width: 10em;
     display: block;
     margin-top: 0.25em;
     margin-bottom: 0.25em;
}

label input {
     margin-right: 0.5em;
}

div.checkbox span {
     padding: 0.25em;
     margin-right: 0.25em;
}
 div.checkbox span:before {
     content: '✗';
     color: red;
}

div.checkbox.checked span {
  margin-right: 0.375em;
}

div.checkbox.checked span:before {
     content: '✓';
     color: green;
     font-size: 90%;
}
 label {
}
 label:hover,
.checkbox:hover {
     padding: 0;
     border: 2px solid #000;
     background-color: #CCD;
}
    </style>
    <contents>
     <h2>Accessibility Issues</h2>
     <ul>
      <li>Keyboard support</li>
      <li>Keyboard focus styling</li>
      <li>Role information</li>
      <li>Accessible name</li>
      <li>State of checkbox</li>
     </ul>

     <h2>Example</h2>

     <p><a href="https://webedit.disability.illinois.edu/user/jongund/checkbox-inaccessible/output/" target="_webedit">Checkbox example on WebEdit</a></p>

     <script id="script">
function toggleCheckbox(node) {
 if (node.classList.contains('checked')) {
  node.classList.remove('checked');
 } else {
  node.classList.add('checked');
 }
}

function clickCheckbox(event) {
 var cb = event.currentTarget;
 toggleCheckbox(cb);
 event.stopPropagation();
 event.preventDefault();
}
     </script>

     <div id="example">
      <fieldset>
        <legend>
            Pizza Toppings
        </legend>
        <label>
          <input type="checkbox"/>
            Green pepper
         </label>
        <label>
          <input type="checkbox"/>
            Onion
        </label>
        <div class="checkbox"
             onclick="clickCheckbox(event)">
          <span></span>
            Mushrooms
        </div>
        <div class="checkbox"
            onclick="clickCheckbox(event)">
          <span></span>
            Spinach
        </div>
      </fieldset>
     </div>

      <h2>HTML Source Code</h2>

      <pre><code id="sc1"></code></pre>

      <h2>CSS Source Code</h2>

      <pre><code id="sc2"></code></pre>

      <h2>Javascript Source Code</h2>

      <pre><code id="sc3"></code></pre>

      <script type="text/javascript">
        sourceCode.add('sc1', 'example');
        sourceCode.add('sc2', 'style');
        sourceCode.add('sc3', 'script');
        sourceCode.make();
        hljs.initHighlightingOnLoad();
      </script>
    </contents>
  </slide>

 <slide>
    <title>Basic Screen Reader Commands</title>
    <contents>
      <table class="table table-striped table-hover" aria-label="Basic Screen Reader Commands">
        <thead>
          <tr>
            <th>Action</th>
            <th>JAWS (Windows)</th>
            <th>NVDA (Windows)</th>
            <th>Voice Over (OS X)</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Next link, form control or widget</td>
            <td>Tab</td>
            <td>Tab</td>
            <td>Tab</td>
          </tr>
          <tr>
            <td>Previous link, form control or widget</td>
            <td>Shift+Tab</td>
            <td>Shift+Tab</td>
            <td>Shift+Tab</td>
          </tr>
          <tr>
            <td>Re-read current item</td>
            <td>Insert+Numpad 5</td>
            <td>NVDA+Numpad 5 or NVDA+Shift+O</td>
            <td>Command+Option+Space</td>
          </tr>
          <tr>
            <td>More information on item</td>
            <td>Insert+SHIFT+F1 and Insert+Control+Shift+F1</td>
            <td>NVDA+D</td>
            <td>Control+Option+F4</td>
          </tr>
          <tr>
            <td>List of Links</td>
            <td>Insert+F7</td>
            <td>NVDA+F7</td>
            <td>Command+Option+U, then left/right arrow to list of links</td>
          </tr>
          <tr>
            <td>Detailed Keyboard Information</td>
            <td><a href="http://doccenter.freedomscientific.com/doccenter/archives/training/jawskeystrokes.htm">JAWS Keyboard Documentation</a></td>
            <td><a href="http://www.nvaccess.org/files/nvda/documentation/userGuide.html">NVDA Documentation</a></td>
            <td><a href="https://www.apple.com/voiceover/info/guide/">Voice Over Guide</a></td>
          </tr>
        </tbody>
      </table>
    </contents>
  </slide>

  <slide>
    <title>Part 1 Responding to the keyboard</title>
    <style id="style">
fieldset {
     border-color: #EEE;
     width: 10em;
}

fieldset legend {
     font-size: 100%;
}

label,
div.checkbox {
     padding: 2px;
     width: 10em;
     display: block;
     margin-top: 0.25em;
     margin-bottom: 0.25em;
}

label input {
     margin-right: 0.5em;
}

div.checkbox span {
     padding: 0.25em;
}

div.checkbox span:before {
    content: '✗';
    color: red;
    padding-right: 0.125em;
}

div.checkbox.checked span:before {
    content: '✓';
    color: green;
    padding-right: 0.190em;
}
    </style>
    <contents>
      <ul>
        <li>Adding <code>tabindex="0"</code> to make part of tab order of the page.</li>
        <li>Add <code>onKeyDown</code> event handler to toggle checkbox when <kbd>space</kbd> key is pressed.</li>
      </ul>

      <script id="script" type="text/javascript">
function toggleCheckbox(node) {
 if (node.classList.contains('checked')) {
  node.classList.remove('checked');
 } else {
  node.classList.add('checked');
 }
}

function clickCheckbox(event) {
 var cb = event.currentTarget;
 toggleCheckbox(cb);
 event.stopPropagation();
 event.preventDefault();
}

function keydownCheckbox(event) {
  var cb = event.currentTarget;
  if (event.key === ' ') {
    toggleCheckbox(cb);

    event.stopPropagation();
    event.preventDefault();
  }
}      </script>

     <h2>Example</h2>

     <p><a href="https://webedit.disability.illinois.edu/user/jongund/checkbox-part-1/output/" target="_webedit">Part 1 on WebEdit</a></p>

     <div id="example">
<fieldset>
    <legend>
        Pizza Toppings
    </legend>
    <label>
      <input type="checkbox"/>
        Green pepper
     </label>
    <label>
      <input type="checkbox"/>
        Onion
    </label>
    <div class="checkbox"
         tabindex="0"
         onclick="clickCheckbox(event)"
         onkeydown="keydownCheckbox(event)">
      <span></span>
        Mushrooms
    </div>
    <div class="checkbox"
        tabindex="0"
        onclick="clickCheckbox(event)"
        onkeydown="keydownCheckbox(event)">
      <span></span>
          Spinach
    </div>
  </fieldset>
     </div>

      <h2>HTML Source Code</h2>

      <pre><code id="sc1"></code></pre>

      <h2>CSS Source Code</h2>

      <pre><code id="sc2"></code></pre>

      <h2>Javascript Source Code</h2>

      <pre><code id="sc3"></code></pre>

      <script type="text/javascript">
        sourceCode.add('sc1', 'example');
        sourceCode.add('sc2', 'style');
        sourceCode.add('sc3', 'script');
        sourceCode.make();
        hljs.initHighlightingOnLoad();
      </script>

    </contents>
  </slide>

  <slide>
    <title>Part 2: Adding role, checked state and accessible name</title>
    <style id="style">
fieldset {
     border-color: #EEE;
     width: 10em;
}

fieldset legend {
     font-size: 100%;
}

label,
div.checkbox {
     padding: 2px;
     width: 10em;
     display: block;
     margin-top: 0.25em;
     margin-bottom: 0.25em;
}

label input {
     margin-right: 0.5em;
}

div.checkbox span {
     padding: 0.25em;
}

div.checkbox span:before {
    content: '✗';
    color: red;
    padding-right: 0.125em;
}

div.checkbox.checked span:before {
    content: '✓';
    color: green;
    padding-right: 0.190em;
}

label:hover,
.checkbox:hover {
     padding: 0;
     border: 2px solid #000;
     background-color: #CCD;
}
</style>
    <contents>
      <ul>
        <li>Adding <code>role="checkbox"</code> to make part of tab order of the page.</li>
        <li>Adding <code>aria-checked</code> attribute.</li>
        <li>Accessible name from text content.</li>
        <li>Removing state character (e.g. <span style="color: red">✗</span>) from accessible name using <code>aria-hidden</code>.</li>
      </ul>

      <script id="script" type="text/javascript">
function toggleCheckbox(node) {
 if (node.classList.contains('checked')) {
  node.classList.remove('checked');
  node.setAttribute('aria-checked', 'false');
 } else {
  node.classList.add('checked');
  node.setAttribute('aria-checked', 'true');
 }
}

function clickCheckbox(event) {
 var cb = event.currentTarget;
 toggleCheckbox(cb);
 event.stopPropagation();
 event.preventDefault();
}

function keydownCheckbox(event) {
  var cb = event.currentTarget;
  if (event.key === ' ') {
    toggleCheckbox(cb);

    event.stopPropagation();
    event.preventDefault();
  }
}
      </script>

     <h2>Example</h2>

     <p><a href="https://webedit.disability.illinois.edu/user/jongund/checkbox-part-2/output/" target="_webedit">Part 2 on WebEdit</a></p>

     <div id="example">
<fieldset>
    <legend>
        Pizza Toppings
    </legend>
    <label>
      <input type="checkbox"/>
        Green pepper
     </label>
    <label>
      <input type="checkbox"/>
        Onion
    </label>
    <div class="checkbox"
         role="checkbox"
         aria-checked="false"
         tabindex="0"
         onclick="clickCheckbox(event)"
         onkeydown="keydownCheckbox(event)">
      <span aria-hidden="true"></span>
        Mushrooms
    </div>
    <div class="checkbox"
         role="checkbox"
         aria-checked="false"
        tabindex="0"
        onclick="clickCheckbox(event)"
        onkeydown="keydownCheckbox(event)">
      <span aria-hidden="true"></span>
          Spinach
    </div>
  </fieldset>
     </div>

      <h2>HTML Source Code</h2>

      <pre><code id="sc1"></code></pre>

      <h2>CSS Source Code</h2>

      <pre><code id="sc2"></code></pre>

      <h2>Javascript Source Code</h2>

      <pre><code id="sc3"></code></pre>

      <script type="text/javascript">
        sourceCode.add('sc1', 'example');
        sourceCode.add('sc2', 'style');
        sourceCode.add('sc3', 'script');
        sourceCode.make();
        hljs.initHighlightingOnLoad();
      </script>

    </contents>
  </slide>

 <slide>
    <title>Part 3: Keyboard Focus and hover styling</title>
    <style id="style">
fieldset {
     border-color: #EEE;
     width: 10em;
}

fieldset legend {
     font-size: 100%;
}

label,
div.checkbox {
     padding: 4px;
     width: 10em;
     display: block;
     margin-top: 0.25em;
     margin-bottom: 0.25em;
}

label input {
     margin-right: 0.5em;
}

div.checkbox span {
     padding: 0.25em;
}

div.checkbox span:before {
    content: '✗';
    color: red;
    padding-right: 0.125em;
}

div.checkbox.checked span:before {
    content: '✓';
    color: green;
    padding-right: 0.190em;
}

label.focus,
div.checkbox:focus {
  padding: 2px;
  border: 2px solid #999;
  background-color: #DDE;
}

label:hover,
div.checkbox:hover {
  background-color: #CCD;
}
    </style>
    <contents>
      <ul>
        <li>Keyboard <code>focus</code> and <code>hover</code> styling should be similar to to harmonize the look and feel of styling between interaction techniques.</li>
        <li>Recommend <code>focus</code> styling has a border and <code>hover</code> does not.</li>
        <li><code>focus</code> styling should use a 2 pixel<code>border</code> or <code>outline</code> width to make the control with focus easy for users to see and track.</li>
        <li>If the <code>border</code> technique is used the <code>border</code> must be removed when the widget does not have focus to support focus styling to change when users select operating system high contrast modes.</li>
        <li>Need to use <code>onfocus</code> and <code>onblur</code> events to create focus styling of standard radio buttons and checkboxes by styling their labels.</li>
        <li>Styling background color makes the focus change much easier to detect visually.</li>
      </ul>

      <script id="script" type="text/javascript">
function toggleCheckbox(node) {
 if (node.classList.contains('checked')) {
  node.classList.remove('checked');
  node.setAttribute('aria-checked', 'false');
 } else {
  node.classList.add('checked');
  node.setAttribute('aria-checked', 'true');
 }
}

function clickCheckbox(event) {
 var cb = event.currentTarget;
 toggleCheckbox(cb);
 event.stopPropagation();
 event.preventDefault();
}

function keydownCheckbox(event) {
  var cb = event.currentTarget;
  if (event.key === ' ') {
    toggleCheckbox(cb);

    event.stopPropagation();
    event.preventDefault();
  }
}

function checkboxFocus(event) {
  event.currentTarget.parentElement.classList.add('focus');
}

function checkboxBlur(event) {
  event.currentTarget.parentElement.classList.remove('focus');
}
      </script>

     <h2>Example</h2>

     <p><a href="https://webedit.disability.illinois.edu/user/jongund/checkbox-part-3/output/" target="_webedit">Part 3 on WebEdit</a></p>

     <div id="example">
<fieldset>
    <legend>
        Pizza Toppings
    </legend>
    <label>
      <input type="checkbox"
             onfocus="checkboxFocus(event)"
             onblur="checkboxBlur(event)"/>
        Green pepper
     </label>
    <label>
      <input type="checkbox"
             onfocus="checkboxFocus(event)"
             onblur="checkboxBlur(event)"/>
        Onion
    </label>
    <div class="checkbox"
         role="checkbox"
         aria-checked="false"
         tabindex="0"
         onclick="clickCheckbox(event)"
         onkeydown="keydownCheckbox(event)">
      <span aria-hidden="true"></span>
        Mushrooms
    </div>
    <div class="checkbox"
         role="checkbox"
         aria-checked="false"
        tabindex="0"
        onclick="clickCheckbox(event)"
        onkeydown="keydownCheckbox(event)">
      <span aria-hidden="true"></span>
          Spinach
    </div>
  </fieldset>
     </div>

      <h2>HTML Source Code</h2>

      <pre><code id="sc1"></code></pre>

      <h2>CSS Source Code</h2>

      <pre><code id="sc2"></code></pre>

      <h2>Javascript Source Code</h2>

      <pre><code id="sc3"></code></pre>

      <script type="text/javascript">
        sourceCode.add('sc1', 'example');
        sourceCode.add('sc2', 'style');
        sourceCode.add('sc3', 'script');
        sourceCode.make();
        hljs.initHighlightingOnLoad();
      </script>
    </contents>
  </slide>

 <slide>
    <title>Part 4: Synchronization of ARIA and visual states</title>
    <style id="style">
fieldset {
     border-color: #EEE;
     width: 10em;
}

fieldset legend {
     font-size: 100%;
}

label,
[role="checkbox"] {
     padding: 4px;
     width: 10em;
     display: block;
     margin-top: 0.25em;
     margin-bottom: 0.25em;
}

label input {
     margin-right: 0.5em;
}

[role="checkbox"] span {
     padding: 0.25em;
}

[role="checkbox"] span:before {
    content: '✗';
    color: red;
    padding-right: 0.125em;
}

[role="checkbox"][aria-checked="true"] span:before {
    content: '✓';
    color: green;
    padding-right: 0.190em;
}

label.focus,
[role="checkbox"]:focus {
  padding: 2px;
  border: 2px solid #999;
  background-color: #DDE;
}

label:hover,
[role="checkbox"]:hover {
  background-color: #CCD;
}
    </style>
    <contents>
      <ul>
        <li>Using CSS attribute selectors and CSS <code>content</code> property to synchronize visual and aria states.</li>
        <li>Use of CSS <code>content</code> property supports high contrast browser settings, unike the use of CSS <code>background-image</code>.</li>
      </ul>

      <script id="script" type="text/javascript">
function toggleCheckbox(node) {
 if (node.getAttribute('aria-checked') === 'true') {
  node.setAttribute('aria-checked', 'false');
 } else {
  node.setAttribute('aria-checked', 'true');
 }
}

function clickCheckbox(event) {
 var cb = event.currentTarget;
 toggleCheckbox(cb);
 event.stopPropagation();
 event.preventDefault();
}

function keydownCheckbox(event) {
  var cb = event.currentTarget;
  if (event.key === ' ') {
    toggleCheckbox(cb);

    event.stopPropagation();
    event.preventDefault();
  }
}

function checkboxFocus(event) {
  event.currentTarget.parentElement.classList.add('focus');
}

function checkboxBlur(event) {
  event.currentTarget.parentElement.classList.remove('focus');
}
      </script>

     <h2>Example</h2>

     <p><a href="https://webedit.disability.illinois.edu/user/jongund/checkbox-part-4/output/" target="_webedit">Part 4 on WebEdit</a></p>

     <div id="example">
<h1>Part 4: Custom Checkbox Widget with synchronization of ARIA and visual states</h1>
<fieldset>
    <legend>
        Pizza Toppings
    </legend>
    <label>
      <input type="checkbox"
             onfocus="checkboxFocus(event)"
             onblur="checkboxBlur(event)"/>
        Green pepper
     </label>
    <label>
      <input type="checkbox"
             onfocus="checkboxFocus(event)"
             onblur="checkboxBlur(event)"/>
        Onion
    </label>
    <div class="checkbox"
         role="checkbox"
         aria-checked="false"
         tabindex="0"
         onclick="clickCheckbox(event)"
         onkeydown="keydownCheckbox(event)">
      <span aria-hidden="true"></span>
        Mushrooms
    </div>
    <div class="checkbox"
         role="checkbox"
         aria-checked="false"
        tabindex="0"
        onclick="clickCheckbox(event)"
        onkeydown="keydownCheckbox(event)">
      <span aria-hidden="true"></span>
          Spinach
    </div>
  </fieldset>
     </div>

      <h2>HTML Source Code</h2>

      <pre><code id="sc1"></code></pre>

      <h2>CSS Source Code</h2>

      <pre><code id="sc2"></code></pre>

      <h2>Javascript Source Code</h2>

      <pre><code id="sc3"></code></pre>

      <script type="text/javascript">
        sourceCode.add('sc1', 'example');
        sourceCode.add('sc2', 'style');
        sourceCode.add('sc3', 'script');
        sourceCode.make();
        hljs.initHighlightingOnLoad();
      </script>
    </contents>
  </slide>

  <slide>
    <title>Example Widget: Accessible Custom Checkbox Widget using ARIA</title>
    <style id="style">
      fieldset {
        border-color: #EEE;
        width: 10em;
      }

      fieldset legend {
        font-size: 100%;
      }

      label,
      [role="checkbox"] {
        display: block;
        margin: 0.25em;
        font-weight: normal;
        padding: 4px;
        border: none;
        width: 10em;
      }

      label input[type=checkbox] {
        padding-left: 1em;
      }

      div[role="checkbox"] span:before {
        content: '✗';
        color: red;
        padding-left: 0.125em;
        padding-right: 0.25em;
      }

      div[role="checkbox"][aria-checked="true"] span:before {
        content: '✓';
        color: green;
        padding-left: 0.125em;
        padding-right: 0.315em;
      }

      label.focus,
      [role="checkbox"]:focus {
        padding: 2px;
        border: 2px solid #999;
        background-color: #DDE;
      }

      label:hover,
      [role="checkbox"]:hover {
        background-color: #CCD;
      }
    </style>
    <contents>


      <script id="script" type="text/javascript">
        function toggleCheckbox(node) {
          if (node.getAttribute('aria-checked') === 'true') {
            node.setAttribute('aria-checked', 'false');
          }
          else {
            node.setAttribute('aria-checked', 'true');
          }
        }

        function keydownCheckbox(event) {
          var cb = event.currentTarget;
          if (event.key === ' ') {
            toggleCheckbox(cb);

            event.stopPropagation();
            event.preventDefault();
          }
        }

        function clickCheckbox(event) {
          var cb = event.currentTarget;
          toggleCheckbox(cb);
          event.stopPropagation();
          event.preventDefault();
        }

        function checkboxFocus(event) {
          event.currentTarget.parentNode.classList.add('focus');
        }

        function checkboxBlur(event) {
          event.currentTarget.parentNode.classList.remove('focus');
        }
      </script>

     <h2>Features</h2>
     <ul>
       <li>Responds to mouse events using <code>onClick</code> event.</li>
       <li>Responds to <kbd>space</kbd> keyboard event using <code>onKeyDown</code> event.</li>
       <li><code>tabindex=0</code> makes widget keyboard focusable and include in tab order of page.</li>
       <li><code>role="checkbox"</code> identifies widget to assistive technologies as a "checkbox".</li>
       <li><code>aria-checked</code> attribute identifies the state as being "checked" or "unchecked".</li>
       <li>Accessible name comes from child text content of the <code>div[role="checkbox"]</code> element.</li>
       <li><code>aria-hidden</code> attribute hides the characters used for indicating state (i.e. <span style="color: red">✗</span> and <span style="color: green">✓</span>) from being included in the accessible name calculation.</li>
       <li>CSS attribute selectors are used to keep the visual indication of checked state snychronized with accessibility API.</li>
       <li><code>onFocus</code> and <code>onBlur</code> event handlers are used on standard checkboxes to provide visual indication of keyboard focus.</li>
     </ul>

     <h2>Example</h2>

     <p><a href="https://webedit.disability.illinois.edu/user/jongund/checkbox-accessible/output/" target="_webedit">Checkbox example on WebEdit</a></p>

     <div id="example">
    <fieldset>
        <legend>

            Pizza Toppings

        </legend>
        <label>
          <input type="checkbox"
               onfocus="checkboxFocus(event)"
               onblur="checkboxBlur(event)"/>


              Green pepper

        </label>
        <label>
          <input type="checkbox"
               onfocus="checkboxFocus(event)"
               onblur="checkboxBlur(event)"/>

              Onion

        </label>
        <div role="checkbox"
           tabindex="0"
           aria-checked="false"
           onkeydown="keydownCheckbox(event)"
           onclick="clickCheckbox(event)">
          <span aria-hidden="true"></span>

              Mushrooms

        </div>
        <div role="checkbox"
           tabindex="0"
           aria-checked="false"
           onkeydown="keydownCheckbox(event)"
           onclick="clickCheckbox(event)">
          <span aria-hidden="true"></span>

              Spinach

        </div>
      </fieldset>
     </div>

      <h2>HTML Source Code</h2>

      <pre><code id="sc1"></code></pre>

      <h2>CSS Source Code</h2>

      <pre><code id="sc2"></code></pre>

      <h2>Javascript Source Code</h2>

      <pre><code id="sc3"></code></pre>

      <script type="text/javascript">
        sourceCode.add('sc1', 'example');
        sourceCode.add('sc2', 'style');
        sourceCode.add('sc3', 'script');
        sourceCode.make();
        hljs.initHighlightingOnLoad();
      </script>
   </contents>
  </slide>

  <slide>
    <title>Using ARIA in HTML (Best Practices)</title>
    <contents>
      <p><a href="https://w3c.github.io/using-aria/">Using ARIA in HTML (Best Practices)</a></p>
      <ul>
        <li>Use native semantics of HTML (e.g. <code>input[type=checkbox]</code> rather than div[role=checkbox]).</li>
        <li>Don't override native semantics of elements (e.g. <code>h2[role="banner]</code>).</li>
        <li>Don't redefine the native semantics of an element (e.g. <code>main[role=main]</code>).</li>
        <li>All interactive ARIA widgets must be operable with the keyboard.</li>
        <li>Do not use role="presentation" or aria-hidden="true" on a visible focusable elements.</li>
        <li>All interactive elements must have an accessible name.</li>
        <li>Live regions (e.g. <code>aria-live</code> attribute and <code>log</code>, <code>status</code>, and <code>alert</code> roles) should be used with extreme caution, only for asynchronous content changes important for the users attention.</li>
      </ul>
    </contents>
  </slide>

   <slide>
    <title>New features in ARIA 1.2</title>
    <contents>
      <p><a href="https://w3c.github.io/aria/">Working Draft of ARIA 1.2 Specification</a></p>
      <ul>
        <li>HTML harmonization:
          <ul>
            <li>Define roles appropriate for every HTML element.</li>
            <li>Assign default <a href="https://www.w3.org/TR/html-aria/" target="_spec">ARIA role mappings to every HTML element</a>.</li>
            <li>Some new roles, like <code>generic</code> role for elements with no semantics like <code>div</code> and <code>span</code>, should not be used by developers.</li>
          </ul>
        </li>
        <li>New ways to define an accessible name:
          <ul>
            <li>Encapsulation using the <code>label</code>role for a limited set of elements (e.g. <code>checkbox</code>, <code>radio</code> ...).</li>
            <li>The <code>legend</code> role for the <code>group</code> and <code>radiogroup</code> roles.</li>
          </ul>
        </li>
        <li>Combobox design pattern 1.2 that works with assistive technologies.</li>
        <li>Accessible Object Model (AOM) to reflect ARIA properties.</li>
      </ul>
    </contents>
  </slide>


   <slide>
    <title>ARIA Authoring Practices 1.2 (Working Draft)</title>
    <contents>
      <p><a href="https://w3c.github.io/aria-practices/">Working Draft of ARIA Authoring Practices 1.2</a></p>
      <ul>
        <li>Combobox design pattern 1.2 that works with assistive technologies.</li>
        <li>Unit testing of examples for:
          <ul>
            <li>Keyboard interaction.</li>
            <li>Proper use of ARIA roles.</li>
            <li>Proper use of ARIA properties and states.</li>
          </ul>
        </li>
        <li>High contrast support in newer examples:
          <ul>
            <li>Date pickers</li>
            <li>Combobox</li>
            <li>Carousel</li>
          </ul>
        </li>
      </ul>
    </contents>
  </slide>

  <slide>
    <title>Open Source Tools</title>
    <contents>
      <ul>
        <li><a href="https://addons.mozilla.org/en-US/firefox/addon/ainspector-wcag/">AInspector WCAG for Firefox</a></li>
        <li><a href="https://fae.disability.illinois.edu">Functional Accessibility Evaluator 2.1</a></li>
        <li><a href="https://accessibility-bookmarklets.org/">Public Bookmarklets Website</a></li>
      </ul>
    </contents>
  </slide>

  <slide>
    <title>Questions and Discussion</title>
    <contents>
    </contents>
  </slide>

</slides>


